<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/">
  <sitecore>

    <settings>
      <setting name="Media.MediaLinkServerUrl" value="true"/>
      <setting name="Media.RequestExtension" value=""/>
      <setting name="AccountName" value="visionazurecdn" />
      <setting name="AccountPrimaryKey" value="QvH963s2BkytfJTWpIwdZgw30/rd4cvb8+DmGlLJHVZBT+K00PkpdcZLq4ipBesd/wxy0web8Lvufd4YOSgsEw==" />
      <setting name="EndpointsProtocol" value="https" />
      <setting name="ContainerName" value="cdn" />
      <setting name="SyncFolder" value="sync" />
      <setting name="OriginPrefix" value="https://visionazurecdn.blob.core.windows.net/cdn/sync/" />
    </settings>

    <processors>
      <!-- Custom Pipeline to attach file -->
      <attachFile>
        <processor mode="on" type="MediaLibrary.Azure.CDN.UpdateMedia, AzureCDN" />
      </attachFile>
    </processors>

    <pipelines>
      <!-- Custom Pipeline to Process Media Items -->
      <publishItem>
        <processor type="MediaLibrary.Azure.CDN.CdnPublish,AzureCDN"
      patch:before="processor[@type='Sitecore.Publishing.Pipelines.PublishItem.PerformAction, Sitecore.Kernel']">
          <!--If yes, this custom CDN publishing processor will be executed otherwise not. Values: yes|no-->
          <Enabled>yes</Enabled>
        </processor>
      
      </publishItem>
    </pipelines>


    <linkManager defaultProvider="sitecore">
      <providers>
        <add patch:instead="*[@name='sitecore']" name="sitecore" type="Sitecore.Links.LinkProvider, Sitecore.Kernel" addAspxExtension="false" alwaysIncludeServerUrl="false" encodeNames="true" languageEmbedding="never" languageLocation="filePath" lowercaseUrls="true" shortenUrls="true" useDisplayName="false"/>
      </providers>
    </linkManager>


    <mediaLibrary>
      <mediaProvider>
        <patch:attribute name="type">MediaLibrary.Azure.CDN.MediaProvider, AzureCDN</patch:attribute>
      </mediaProvider>
    </mediaLibrary>
  


  </sitecore>


</configuration>
